<% wrap_layout :layout do %>
    <div class="BlogLayout">
      <header class="BlogLayout-header">
        <h1 class="BlogLayout-header-title">
          The Blog
        </h1>
        <h4 class="BlogLayout-header-subTitle">
          Where I can tell you what I think...
        </h4>
      </header>
      <div class="BlogLayout-container">
        <section class="BlogLayout-mainContent">
          <%= yield %>
        </section>

        <aside class="BlogLayout-aside">
          <h2>Recent Articles</h2>
          <ol>
            <% blog.articles[0...10].each do |article| %>
                <li><%= link_to article.title, article %> <span><%= article.date.strftime('%b %e') %></span></li>
            <% end %>
          </ol>

          <h2>Tags</h2>
          <ol>
            <% blog.tags.each do |tag, articles| %>
                <li><%= link_to "#{tag} (#{articles.size})", tag_path(tag) %></li>
            <% end %>
          </ol>

          <h2>By Year</h2>
          <ol>
            <% blog.articles.group_by {|a| a.date.year }.each do |year, articles| %>
                <li><%= link_to "#{year} (#{articles.size})", blog_year_path(year) %></li>
            <% end %>
          </ol>
        </aside>

      </div>
    </div>
<% end %>
